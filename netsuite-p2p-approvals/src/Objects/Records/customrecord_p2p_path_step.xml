<?xml version="1.0" encoding="UTF-8"?>
<customrecordtype scriptid="customrecord_p2p_path_step">
  <n>P2P Path Step</n>
  <recordname>P2P Path Step</recordname>
  <description>Individual step within an approval path</description>
  <customrecordcustomfields>
    <!-- Parent Path -->
    <customrecordcustomfield scriptid="custrecord_ps_path">
      <label>Approval Path</label>
      <fieldtype>SELECT</fieldtype>
      <selectrecordtype>customrecord_p2p_approval_path</selectrecordtype>
      <isrequired>T</isrequired>
    </customrecordcustomfield>
    
    <!-- Sequence -->
    <customrecordcustomfield scriptid="custrecord_ps_sequence">
      <label>Sequence</label>
      <fieldtype>INTEGER</fieldtype>
      <isrequired>T</isrequired>
      <help>Order of execution (1, 2, 3...)</help>
    </customrecordcustomfield>
    
    <!-- Step Name (optional, for display) -->
    <customrecordcustomfield scriptid="custrecord_ps_name">
      <label>Step Name</label>
      <fieldtype>TEXT</fieldtype>
      <help>Optional display name (e.g., "Department Manager Review")</help>
    </customrecordcustomfield>
    
    <!-- Approver Type -->
    <customrecordcustomfield scriptid="custrecord_ps_approver_type">
      <label>Approver Type</label>
      <fieldtype>SELECT</fieldtype>
      <selectrecordtype>customlist_p2p_approver_type</selectrecordtype>
      <isrequired>T</isrequired>
    </customrecordcustomfield>
    
    <!-- Approver Role (if type = Role) -->
    <customrecordcustomfield scriptid="custrecord_ps_role">
      <label>Approver Role</label>
      <fieldtype>SELECT</fieldtype>
      <selectrecordtype>role</selectrecordtype>
      <help>Required if Approver Type = Role</help>
    </customrecordcustomfield>
    
    <!-- Approver Employee (if type = Named Person) -->
    <customrecordcustomfield scriptid="custrecord_ps_employee">
      <label>Approver Employee</label>
      <fieldtype>SELECT</fieldtype>
      <selectrecordtype>employee</selectrecordtype>
      <help>Required if Approver Type = Named Person</help>
    </customrecordcustomfield>
    
    <!-- Execution Mode -->
    <customrecordcustomfield scriptid="custrecord_ps_mode">
      <label>Execution Mode</label>
      <fieldtype>SELECT</fieldtype>
      <selectrecordtype>customlist_p2p_execution_mode</selectrecordtype>
      <isrequired>T</isrequired>
      <help>Serial (one at a time) or Parallel (all at once)</help>
    </customrecordcustomfield>
    
    <!-- Require Comment on Reject -->
    <customrecordcustomfield scriptid="custrecord_ps_require_comment">
      <label>Require Comment on Reject</label>
      <fieldtype>CHECKBOX</fieldtype>
      <defaultvalue>T</defaultvalue>
    </customrecordcustomfield>
    
    <!-- Step-level SLA override -->
    <customrecordcustomfield scriptid="custrecord_ps_sla_hours">
      <label>SLA Hours Override</label>
      <fieldtype>INTEGER</fieldtype>
      <help>Override path default SLA for this step. Leave blank to use path default.</help>
    </customrecordcustomfield>
    
    <!-- Active Flag -->
    <customrecordcustomfield scriptid="custrecord_ps_active">
      <label>Active</label>
      <fieldtype>CHECKBOX</fieldtype>
      <defaultvalue>T</defaultvalue>
    </customrecordcustomfield>
  </customrecordcustomfields>
</customrecordtype>
